// absolute-cent - created by Lajos Meszaros <m_lajos@hotmail.com> - GPL-3.0-or-later licence - 1.0.4
var AbsoluteCent=function(exports){"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_nonIterableRest()}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||_iterableToArray(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var _isPlaceholder_1=function(a){return null!=a&&"object"==typeof a&&!0===a["@@functional/placeholder"]};var _curry1_1=function(fn){return function f1(a){return 0===arguments.length||_isPlaceholder_1(a)?f1:fn.apply(this,arguments)}};var _arity_1=function(n,fn){switch(n){case 0:return function(){return fn.apply(this,arguments)};case 1:return function(a0){return fn.apply(this,arguments)};case 2:return function(a0,a1){return fn.apply(this,arguments)};case 3:return function(a0,a1,a2){return fn.apply(this,arguments)};case 4:return function(a0,a1,a2,a3){return fn.apply(this,arguments)};case 5:return function(a0,a1,a2,a3,a4){return fn.apply(this,arguments)};case 6:return function(a0,a1,a2,a3,a4,a5){return fn.apply(this,arguments)};case 7:return function(a0,a1,a2,a3,a4,a5,a6){return fn.apply(this,arguments)};case 8:return function(a0,a1,a2,a3,a4,a5,a6,a7){return fn.apply(this,arguments)};case 9:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8){return fn.apply(this,arguments)};case 10:return function(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9){return fn.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};var _curry2_1=function(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder_1(a)?f2:_curry1_1(function(_b){return fn(a,_b)});default:return _isPlaceholder_1(a)&&_isPlaceholder_1(b)?f2:_isPlaceholder_1(a)?_curry1_1(function(_a){return fn(_a,b)}):_isPlaceholder_1(b)?_curry1_1(function(_b){return fn(a,_b)}):fn(a,b)}}};var _curryN_1=function _curryN(length,received,fn){return function(){for(var combined=[],argsIdx=0,left=length,combinedIdx=0;combinedIdx<received.length||argsIdx<arguments.length;){var result;combinedIdx<received.length&&(!_isPlaceholder_1(received[combinedIdx])||argsIdx>=arguments.length)?result=received[combinedIdx]:(result=arguments[argsIdx],argsIdx+=1),combined[combinedIdx]=result,_isPlaceholder_1(result)||(left-=1),combinedIdx+=1}return left<=0?fn.apply(this,combined):_arity_1(left,_curryN(length,combined,fn))}},curryN_1=_curry2_1(function(length,fn){return 1===length?_curry1_1(fn):_arity_1(length,_curryN_1(length,[],fn))}),curry_1=_curry1_1(function(fn){return curryN_1(fn.length,fn)});var _curry3_1=function(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder_1(a)?f3:_curry2_1(function(_b,_c){return fn(a,_b,_c)});case 2:return _isPlaceholder_1(a)&&_isPlaceholder_1(b)?f3:_isPlaceholder_1(a)?_curry2_1(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder_1(b)?_curry2_1(function(_b,_c){return fn(a,_b,_c)}):_curry1_1(function(_c){return fn(a,b,_c)});default:return _isPlaceholder_1(a)&&_isPlaceholder_1(b)&&_isPlaceholder_1(c)?f3:_isPlaceholder_1(a)&&_isPlaceholder_1(b)?_curry2_1(function(_a,_b){return fn(_a,_b,c)}):_isPlaceholder_1(a)&&_isPlaceholder_1(c)?_curry2_1(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder_1(b)&&_isPlaceholder_1(c)?_curry2_1(function(_b,_c){return fn(a,_b,_c)}):_isPlaceholder_1(a)?_curry1_1(function(_a){return fn(_a,b,c)}):_isPlaceholder_1(b)?_curry1_1(function(_b){return fn(a,_b,c)}):_isPlaceholder_1(c)?_curry1_1(function(_c){return fn(a,b,_c)}):fn(a,b,c)}}},_isArray=Array.isArray||function(val){return null!=val&&val.length>=0&&"[object Array]"===Object.prototype.toString.call(val)};var _isString_1=function(x){return"[object String]"===Object.prototype.toString.call(x)},_isArrayLike_1=_curry1_1(function(x){return!!_isArray(x)||!!x&&("object"==typeof x&&(!_isString_1(x)&&(1===x.nodeType?!!x.length:0===x.length||x.length>0&&(x.hasOwnProperty(0)&&x.hasOwnProperty(x.length-1)))))}),XWrap=function(){function XWrap(fn){this.f=fn}return XWrap.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},XWrap.prototype["@@transducer/result"]=function(acc){return acc},XWrap.prototype["@@transducer/step"]=function(acc,x){return this.f(acc,x)},XWrap}();var _xwrap_1=function(fn){return new XWrap(fn)},bind_1=_curry2_1(function(fn,thisObj){return _arity_1(fn.length,function(){return fn.apply(thisObj,arguments)})});function _iterableReduce(xf,acc,iter){for(var step=iter.next();!step.done;){if((acc=xf["@@transducer/step"](acc,step.value))&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}step=iter.next()}return xf["@@transducer/result"](acc)}function _methodReduce(xf,acc,obj,methodName){return xf["@@transducer/result"](obj[methodName](bind_1(xf["@@transducer/step"],xf),acc))}var symIterator="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";var _reduce_1=function(fn,acc,list){if("function"==typeof fn&&(fn=_xwrap_1(fn)),_isArrayLike_1(list))return function(xf,acc,list){for(var idx=0,len=list.length;idx<len;){if((acc=xf["@@transducer/step"](acc,list[idx]))&&acc["@@transducer/reduced"]){acc=acc["@@transducer/value"];break}idx+=1}return xf["@@transducer/result"](acc)}(fn,acc,list);if("function"==typeof list["fantasy-land/reduce"])return _methodReduce(fn,acc,list,"fantasy-land/reduce");if(null!=list[symIterator])return _iterableReduce(fn,acc,list[symIterator]());if("function"==typeof list.next)return _iterableReduce(fn,acc,list);if("function"==typeof list.reduce)return _methodReduce(fn,acc,list,"reduce");throw new TypeError("reduce: list must be array or iterable")},reduce_1=_curry3_1(_reduce_1),min_1=_curry2_1(function(a,b){return b<a?b:a}),max_1=_curry2_1(function(a,b){return b>a?b:a}),nthRoot=curry_1(function(index,radicant){return Math.pow(radicant,1/index)}),roundToNDecimals=curry_1(function(decimals,number){var power=Math.pow(10,decimals);return Math.round(number*power)/power}),getBaseLog=curry_1(function(base,number){return Math.log(number)/Math.log(base)}),match_1=_curry2_1(function(rx,str){return str.match(rx)||[]});var _checkForMethod_1=function(methodname,fn){return function(){var length=arguments.length;if(0===length)return fn();var obj=arguments[length-1];return _isArray(obj)||"function"!=typeof obj[methodname]?fn.apply(this,arguments):obj[methodname].apply(obj,Array.prototype.slice.call(arguments,0,length-1))}},slice_1=_curry3_1(_checkForMethod_1("slice",function(fromIndex,toIndex,list){return Array.prototype.slice.call(list,fromIndex,toIndex)})),tail_1=_curry1_1(_checkForMethod_1("tail",slice_1(1,1/0)));var _isFunction_1=function(x){return"[object Function]"===Object.prototype.toString.call(x)};var _arrayFromIterator_1=function(iter){for(var next,list=[];!(next=iter.next()).done;)list.push(next.value);return list};var _includesWith_1=function(pred,x,list){for(var idx=0,len=list.length;idx<len;){if(pred(x,list[idx]))return!0;idx+=1}return!1};var _functionName_1=function(f){var match=String(f).match(/^function (\w*)/);return null==match?"":match[1]};var _has_1=function(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)};var _objectIs_1="function"==typeof Object.is?Object.is:function(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b},toString=Object.prototype.toString,_isArguments_1=function(){return"[object Arguments]"===toString.call(arguments)?function(x){return"[object Arguments]"===toString.call(x)}:function(x){return _has_1("callee",x)}}(),hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(list,item){for(var idx=0;idx<list.length;){if(list[idx]===item)return!0;idx+=1}return!1},keys_1="function"!=typeof Object.keys||hasArgsEnumBug?_curry1_1(function(obj){if(Object(obj)!==obj)return[];var prop,nIdx,ks=[],checkArgsLength=hasArgsEnumBug&&_isArguments_1(obj);for(prop in obj)!_has_1(prop,obj)||checkArgsLength&&"length"===prop||(ks[ks.length]=prop);if(hasEnumBug)for(nIdx=nonEnumerableProps.length-1;nIdx>=0;)_has_1(prop=nonEnumerableProps[nIdx],obj)&&!contains(ks,prop)&&(ks[ks.length]=prop),nIdx-=1;return ks}):_curry1_1(function(obj){return Object(obj)!==obj?[]:Object.keys(obj)}),type_1=_curry1_1(function(val){return null===val?"Null":void 0===val?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});function _uniqContentEquals(aIterator,bIterator,stackA,stackB){var a=_arrayFromIterator_1(aIterator),b=_arrayFromIterator_1(bIterator);function eq(_a,_b){return _equals(_a,_b,stackA.slice(),stackB.slice())}return!_includesWith_1(function(b,aItem){return!_includesWith_1(eq,aItem,b)},b,a)}function _equals(a,b,stackA,stackB){if(_objectIs_1(a,b))return!0;var typeA=type_1(a);if(typeA!==type_1(b))return!1;if(null==a||null==b)return!1;if("function"==typeof a["fantasy-land/equals"]||"function"==typeof b["fantasy-land/equals"])return"function"==typeof a["fantasy-land/equals"]&&a["fantasy-land/equals"](b)&&"function"==typeof b["fantasy-land/equals"]&&b["fantasy-land/equals"](a);if("function"==typeof a.equals||"function"==typeof b.equals)return"function"==typeof a.equals&&a.equals(b)&&"function"==typeof b.equals&&b.equals(a);switch(typeA){case"Arguments":case"Array":case"Object":if("function"==typeof a.constructor&&"Promise"===_functionName_1(a.constructor))return a===b;break;case"Boolean":case"Number":case"String":if(typeof a!=typeof b||!_objectIs_1(a.valueOf(),b.valueOf()))return!1;break;case"Date":if(!_objectIs_1(a.valueOf(),b.valueOf()))return!1;break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(a.source!==b.source||a.global!==b.global||a.ignoreCase!==b.ignoreCase||a.multiline!==b.multiline||a.sticky!==b.sticky||a.unicode!==b.unicode)return!1}for(var idx=stackA.length-1;idx>=0;){if(stackA[idx]===a)return stackB[idx]===b;idx-=1}switch(typeA){case"Map":return a.size===b.size&&_uniqContentEquals(a.entries(),b.entries(),stackA.concat([a]),stackB.concat([b]));case"Set":return a.size===b.size&&_uniqContentEquals(a.values(),b.values(),stackA.concat([a]),stackB.concat([b]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var keysA=keys_1(a);if(keysA.length!==keys_1(b).length)return!1;var extendedStackA=stackA.concat([a]),extendedStackB=stackB.concat([b]);for(idx=keysA.length-1;idx>=0;){var key=keysA[idx];if(!_has_1(key,b)||!_equals(b[key],a[key],extendedStackA,extendedStackB))return!1;idx-=1}return!0}var _equals_1=_equals,equals_1=_curry2_1(function(a,b){return _equals_1(a,b,[],[])});var _indexOf_1=function(list,a,idx){var inf,item;if("function"==typeof list.indexOf)switch(typeof a){case"number":if(0===a){for(inf=1/a;idx<list.length;){if(0===(item=list[idx])&&1/item===inf)return idx;idx+=1}return-1}if(a!=a){for(;idx<list.length;){if("number"==typeof(item=list[idx])&&item!=item)return idx;idx+=1}return-1}return list.indexOf(a,idx);case"string":case"boolean":case"function":case"undefined":return list.indexOf(a,idx);case"object":if(null===a)return list.indexOf(a,idx)}for(;idx<list.length;){if(equals_1(list[idx],a))return idx;idx+=1}return-1};var _includes_1=function(a,list){return _indexOf_1(list,a,0)>=0};var _map_1=function(fn,functor){for(var idx=0,len=functor.length,result=Array(len);idx<len;)result[idx]=fn(functor[idx]),idx+=1;return result};var _quote_1=function(s){return'"'+s.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'},pad=function(n){return(n<10?"0":"")+n},_toISOString_1="function"==typeof Date.prototype.toISOString?function(d){return d.toISOString()}:function(d){return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"."+(d.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};var _complement_1=function(f){return function(){return!f.apply(this,arguments)}};var _isTransformer_1=function(obj){return null!=obj&&"function"==typeof obj["@@transducer/step"]};var _dispatchable_1=function(methodNames,xf,fn){return function(){if(0===arguments.length)return fn();var args=Array.prototype.slice.call(arguments,0),obj=args.pop();if(!_isArray(obj)){for(var idx=0;idx<methodNames.length;){if("function"==typeof obj[methodNames[idx]])return obj[methodNames[idx]].apply(obj,args);idx+=1}if(_isTransformer_1(obj)){var transducer=xf.apply(null,args);return transducer(obj)}}return fn.apply(this,arguments)}};var _filter_1=function(fn,list){for(var idx=0,len=list.length,result=[];idx<len;)fn(list[idx])&&(result[result.length]=list[idx]),idx+=1;return result};var _isObject_1=function(x){return"[object Object]"===Object.prototype.toString.call(x)},_xfBase_init=function(){return this.xf["@@transducer/init"]()},_xfBase_result=function(result){return this.xf["@@transducer/result"](result)},XFilter=function(){function XFilter(f,xf){this.xf=xf,this.f=f}return XFilter.prototype["@@transducer/init"]=_xfBase_init,XFilter.prototype["@@transducer/result"]=_xfBase_result,XFilter.prototype["@@transducer/step"]=function(result,input){return this.f(input)?this.xf["@@transducer/step"](result,input):result},XFilter}(),filter_1=_curry2_1(_dispatchable_1(["filter"],_curry2_1(function(f,xf){return new XFilter(f,xf)}),function(pred,filterable){return _isObject_1(filterable)?_reduce_1(function(acc,key){return pred(filterable[key])&&(acc[key]=filterable[key]),acc},{},keys_1(filterable)):_filter_1(pred,filterable)})),reject_1=_curry2_1(function(pred,filterable){return filter_1(_complement_1(pred),filterable)});var _toString_1=function _toString(x,seen){var recur=function(y){var xs=seen.concat([x]);return _includes_1(y,xs)?"<Circular>":_toString(y,xs)},mapPairs=function(obj,keys){return _map_1(function(k){return _quote_1(k)+": "+recur(obj[k])},keys.slice().sort())};switch(Object.prototype.toString.call(x)){case"[object Arguments]":return"(function() { return arguments; }("+_map_1(recur,x).join(", ")+"))";case"[object Array]":return"["+_map_1(recur,x).concat(mapPairs(x,reject_1(function(k){return/^\d+$/.test(k)},keys_1(x)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof x?"new Boolean("+recur(x.valueOf())+")":x.toString();case"[object Date]":return"new Date("+(isNaN(x.valueOf())?recur(NaN):_quote_1(_toISOString_1(x)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof x?"new Number("+recur(x.valueOf())+")":1/x==-1/0?"-0":x.toString(10);case"[object String]":return"object"==typeof x?"new String("+recur(x.valueOf())+")":_quote_1(x);case"[object Undefined]":return"undefined";default:if("function"==typeof x.toString){var repr=x.toString();if("[object Object]"!==repr)return repr}return"{"+mapPairs(x,keys_1(x)).join(", ")+"}"}},toString_1=_curry1_1(function(val){return _toString_1(val,[])}),toLower_1=_curry2_1(function(arity,method){return curryN_1(arity+1,function(){var target=arguments[arity];if(null!=target&&_isFunction_1(target[method]))return target[method].apply(target,Array.prototype.slice.call(arguments,0,arity));throw new TypeError(toString_1(target)+' does not have a method named "'+method+'"')})})(0,"toLowerCase"),is_1=_curry2_1(function(Ctor,val){return null!=val&&val.constructor===Ctor||val instanceof Ctor});var _cloneRegExp_1=function(pattern){return new RegExp(pattern.source,(pattern.global?"g":"")+(pattern.ignoreCase?"i":"")+(pattern.multiline?"m":"")+(pattern.sticky?"y":"")+(pattern.unicode?"u":""))};var _isRegExp_1=function(x){return"[object RegExp]"===Object.prototype.toString.call(x)},test_1=_curry2_1(function(pattern,str){if(!_isRegExp_1(pattern))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+toString_1(pattern));return _cloneRegExp_1(pattern).test(str)}),semitoneRatio=nthRoot(12,2),centRatio=nthRoot(1200,2),semitonesByKey={a:9,b:11,c:0,d:2,e:4,f:5,g:7},semitonesByModifier={x:2,"#":1,"":0,b:-1,bb:-2},calculateFrequencyOfZeroCents=function(frequencyOfA4){return frequencyOfA4/Math.pow(semitoneRatio,69)},fromMidiNote=function(note){return 100*note},fromScientificNotation=function(note){return fromMidiNote(function(note){var pattern=/^([a-g])(x|#|bb|b|)(-1|\d)$/i;if(!is_1(String,note)||!test_1(pattern,note))return null;var result=match_1(pattern,note),_tail2=_slicedToArray(tail_1(result),3),key=_tail2[0],modifier=_tail2[1],octave=_tail2[2];return 12*(parseInt(octave)+1)+semitonesByKey[toLower_1(key)]+semitonesByModifier[modifier]}(note))},last_1=_curry2_1(function(offset,list){var idx=offset<0?list.length+offset:offset;return _isString_1(list)?list.charAt(idx):list[idx]})(-1),XMap=function(){function XMap(f,xf){this.xf=xf,this.f=f}return XMap.prototype["@@transducer/init"]=_xfBase_init,XMap.prototype["@@transducer/result"]=_xfBase_result,XMap.prototype["@@transducer/step"]=function(result,input){return this.xf["@@transducer/step"](result,this.f(input))},XMap}(),map_1=_curry2_1(_dispatchable_1(["fantasy-land/map","map"],_curry2_1(function(f,xf){return new XMap(f,xf)}),function(fn,functor){switch(Object.prototype.toString.call(functor)){case"[object Function]":return curryN_1(functor.length,function(){return fn.call(this,functor.apply(this,arguments))});case"[object Object]":return _reduce_1(function(acc,key){return acc[key]=fn(functor[key]),acc},{},keys_1(functor));default:return _map_1(fn,functor)}}));var _pipe_1=function(f,g){return function(){return g.call(this,f.apply(this,arguments))}};var pipe_1=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return _arity_1(arguments[0].length,reduce_1(_pipe_1,arguments[0],tail_1(arguments)))},reverse_1=_curry1_1(function(list){return _isString_1(list)?list.split("").reverse().join(""):Array.prototype.slice.call(list,0).reverse()});var compose_1=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return pipe_1.apply(this,reverse_1(arguments))},subtract_1=_curry2_1(function(a,b){return Number(a)-Number(b)}),__={"@@functional/placeholder":!0},add_1=_curry2_1(function(a,b){return Number(a)+Number(b)}),gte_1=_curry2_1(function(a,b){return a>=b});var _isNumber_1=function(x){return"[object Number]"===Object.prototype.toString.call(x)},range_1=_curry2_1(function(from,to){if(!_isNumber_1(from)||!_isNumber_1(to))throw new TypeError("Both arguments to range must be numbers");for(var result=[],n=from;n<to;)result.push(n),n+=1;return result}),init_1=slice_1(0,-1),concat_1=_curry2_1(function(a,b){if(_isArray(a)){if(_isArray(b))return a.concat(b);throw new TypeError(toString_1(b)+" is not an array")}if(_isString_1(a)){if(_isString_1(b))return a+b;throw new TypeError(toString_1(b)+" is not a string")}if(null!=a&&_isFunction_1(a["fantasy-land/concat"]))return a["fantasy-land/concat"](b);if(null!=a&&_isFunction_1(a.concat))return a.concat(b);throw new TypeError(toString_1(a)+' does not have a method named "concat" or "fantasy-land/concat"')}),lte_1=_curry2_1(function(a,b){return a<=b}),path_1=_curry2_1(function(paths,obj){for(var val=obj,idx=0;idx<paths.length;){if(null==val)return;val=val[paths[idx]],idx+=1}return val}),prop_1=_curry2_1(function(p,obj){return path_1([p],obj)}),pluck_1=_curry2_1(function(p,list){return map_1(prop_1(p),list)}),converge_1=_curry2_1(function(after,fns){return curryN_1(reduce_1(max_1,0,pluck_1("length",fns)),function(){var args=arguments,context=this;return after.apply(context,_map_1(function(fn){return fn.apply(context,args)},fns))})}),partition_1=_curry1_1(function(fns){return converge_1(function(){return Array.prototype.slice.call(arguments,0)},fns)})([filter_1,reject_1]),hasPath_1=_curry2_1(function(_path,obj){if(0===_path.length)return!1;for(var val=obj,idx=0;idx<_path.length;){if(!_has_1(_path[idx],val))return!1;val=val[_path[idx]],idx+=1}return!0}),has_1=_curry2_1(function(prop,obj){return hasPath_1([prop],obj)}),lt_1=_curry2_1(function(a,b){return a<b}),isNil_1=_curry1_1(function(x){return null==x});return exports.fromHertz=function(frequency){var frequencyOfA4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:440,precision=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,result=getBaseLog(centRatio,frequency/calculateFrequencyOfZeroCents(frequencyOfA4));return roundToNDecimals(precision,result)},exports.fromMidiNote=fromMidiNote,exports.fromScientificNotation=fromScientificNotation,exports.parseTuning=function(tuning){var precision=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,_tuning$anchor=_slicedToArray(tuning.anchor,2),index=_tuning$anchor[0],note=_tuning$anchor[1],pitches=tuning.pitches,scaleRootCent=fromScientificNotation(note)-pitches[index],scale=init_1(pitches),scaleSize=last_1(pitches),lowestRootCent=scaleRootCent%scaleSize,highestCent=fromMidiNote(127),lowerIncompleteScale=0===lowestRootCent?[]:compose_1(filter_1(gte_1(__,0)),map_1(compose_1(add_1(__,lowestRootCent),subtract_1(__,scaleSize))))(scale),fittingScaleAmount=Math.floor((highestCent-lowestRootCent)/scaleSize),fullScales=reduce_1(function(acc,index){return concat_1(acc,map_1(add_1(lowestRootCent+index*scaleSize),scale))},[],range_1(0,fittingScaleAmount)),highestRootCent=lowestRootCent+fittingScaleAmount*scaleSize,upperIncompleteScale=filter_1(lte_1(__,highestCent),map_1(add_1(highestRootCent),pitches));return map_1(roundToNDecimals(precision),[].concat(_toConsumableArray(lowerIncompleteScale),_toConsumableArray(fullScales),_toConsumableArray(upperIncompleteScale)))},exports.retune=function(absoluteCent,tuningData){if(has_1(absoluteCent,tuningData))return absoluteCent;var _ref4,x,xs,_partition2=_slicedToArray(partition_1(lt_1(__,absoluteCent),tuningData),2),lesser=_partition2[0],greater=_partition2[1],prev=(_ref4=_toArray(lesser),x=_ref4[0],xs=_ref4.slice(1),reduce_1(max_1,x,xs)),next=function(_ref){var _ref2=_toArray(_ref),x=_ref2[0],xs=_ref2.slice(1);return reduce_1(min_1,x,xs)}(greater);return isNil_1(prev)?next:isNil_1(next)?prev:absoluteCent-prev<next-absoluteCent?prev:next},exports.toHertz=function(absoluteCent){var frequencyOfA4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:440,precision=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,result=calculateFrequencyOfZeroCents(frequencyOfA4)*Math.pow(centRatio,absoluteCent);return roundToNDecimals(precision,result)},exports}({});
